
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Get paid with crypto!">
      
      
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>Home - SpankPay Developer Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.644de097.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#e92063">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="pink" data-md-color-accent="purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#welcome-to-the-spankpay-v2-developer-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="SpankPay Developer Documentation" class="md-header__button md-logo" aria-label="SpankPay Developer Documentation" data-md-component="logo">
      
  <img src="../images/white-S-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SpankPay Developer Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/spankchain/docs.spankpay.com" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    spankchain/docs.spankpay.com
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SpankPay Developer Documentation" class="md-nav__button md-logo" aria-label="SpankPay Developer Documentation" data-md-component="logo">
      
  <img src="../images/white-S-logo.png" alt="logo">

    </a>
    SpankPay Developer Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/spankchain/docs.spankpay.com" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    spankchain/docs.spankpay.com
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          v1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="v1" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          v1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home v1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api-reference/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          v2 (WIP)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="v2 (WIP)" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          v2 (WIP)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Home
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-include-the-spankpay-javascript" class="md-nav__link">
    1. Include the SpankPay JavaScript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-grab-your-api-key" class="md-nav__link">
    2. Grab your API Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-add-a-pay-with-spankpay-button" class="md-nav__link">
    3. Add a Pay with SpankPay button
  </a>
  
    <nav class="md-nav" aria-label="3. Add a Pay with SpankPay button">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#htmlvanilla-js" class="md-nav__link">
    HTML+Vanilla JS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npm-packagejs-framework" class="md-nav__link">
    NPM Package+JS framework
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-implement-an-endpoint-for-webhook-callbacks" class="md-nav__link">
    4. Implement an endpoint for webhook callbacks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-spankpay" class="md-nav__link">
    Integrating SpankPay
  </a>
  
    <nav class="md-nav" aria-label="Integrating SpankPay">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-include-the-spankpay-javascript_1" class="md-nav__link">
    1. Include the SpankPay JavaScript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-an-invoice" class="md-nav__link">
    2. Create an Invoice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-testing-your-integration" class="md-nav__link">
    4. Testing Your Integration
  </a>
  
    <nav class="md-nav" aria-label="4. Testing Your Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testing-api-keys" class="md-nav__link">
    Testing API Keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-webhooks" class="md-nav__link">
    Testing Webhooks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../v2-api-reference/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-include-the-spankpay-javascript" class="md-nav__link">
    1. Include the SpankPay JavaScript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-grab-your-api-key" class="md-nav__link">
    2. Grab your API Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-add-a-pay-with-spankpay-button" class="md-nav__link">
    3. Add a Pay with SpankPay button
  </a>
  
    <nav class="md-nav" aria-label="3. Add a Pay with SpankPay button">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#htmlvanilla-js" class="md-nav__link">
    HTML+Vanilla JS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npm-packagejs-framework" class="md-nav__link">
    NPM Package+JS framework
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-implement-an-endpoint-for-webhook-callbacks" class="md-nav__link">
    4. Implement an endpoint for webhook callbacks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-spankpay" class="md-nav__link">
    Integrating SpankPay
  </a>
  
    <nav class="md-nav" aria-label="Integrating SpankPay">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-include-the-spankpay-javascript_1" class="md-nav__link">
    1. Include the SpankPay JavaScript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-an-invoice" class="md-nav__link">
    2. Create an Invoice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-testing-your-integration" class="md-nav__link">
    4. Testing Your Integration
  </a>
  
    <nav class="md-nav" aria-label="4. Testing Your Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testing-api-keys" class="md-nav__link">
    Testing API Keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-webhooks" class="md-nav__link">
    Testing Webhooks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/spankchain/docs.spankpay.com/edit/master/docs/v2-index.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="welcome-to-the-spankpay-v2-developer-documentation">Welcome to the SpankPay (v2) Developer Documentation!</h1>
<h2 id="overview">Overview</h2>
<p>The SpankPay Merchant SDK makes it easy to get paid with cryptocurrency: easy for your users, and easy for you (the developer).</p>
<p>Getting started with SpankPay is a four-step process:</p>
<h4 id="1-include-the-spankpay-javascript">1. Include the SpankPay JavaScript</h4>
<p>Add the following line to the bottom of the page on which you will be accepting payments:</p>
<div class="highlight"><pre><span></span><code>&lt;script src=&quot;https://unpkg.com/@spankchain-dev/spankpay-sdk&quot;&gt;&lt;/script&gt;
</code></pre></div>
<h4 id="2-grab-your-api-key"><strong>2. Grab your API Key</strong></h4>
<p>In the Developer section of your SpankPay account, you will find both test and production API keys to use. You can also turn on test currencies to run test transactions without using actual money.</p>
<h4 id="3-add-a-pay-with-spankpay-button"><strong>3. Add a</strong> <em><strong>Pay with SpankPay</strong></em> <strong>button</strong></h4>
<p>Using either vanilla Javascript or our NPM package, create a button for starting a SpankPay payment</p>
<h5 id="htmlvanilla-js">HTML+Vanilla JS</h5>
<div class="highlight"><pre><span></span><code>&lt;button
    data-spankpay-key=&quot;test_quickstart_key&quot;
    data-amount=&quot;69.69&quot;
    data-currency=&quot;USD&quot;
    data-callback-url=&quot;https://pay-api.spankchain.com/quickstart/callback&quot;
    data-on-payment=&quot;onSpankPayPayment&quot;
    data-description=&quot;Test Invoice HTML&quot;&gt;
  Pay with SpankPay!
&lt;/button&gt;

&lt;script src=&quot;https://unpkg.com/@spankchain-dev/spankpay-sdk&quot;&gt;&lt;/script&gt;
&lt;script&gt;
function onSpankPayPayment(payment) {
    console.log(`Payment ${payment.status}:`, payment)
}
&lt;/script&gt;
</code></pre></div>
<h5 id="npm-packagejs-framework">NPM Package+JS framework</h5>
<p>Function</p>
<div class="highlight"><pre><span></span><code>import spankpay from &quot;@spankchain-dev/spankpay-sdk&quot;;

  const showSpankPay = async (fiatEnabled, guestOnly) =&gt; {
    await spankpay.show({
      username: &quot;spank-user&quot;,
      message: &quot;message&quot;,
      amount: &quot;10&quot;,
      redirectUrl: &quot;https://spankpay.com&quot;,
      acceptedCurrencies: [
       &#39;BTC&#39;,
        &#39;ETH&#39;,
        &#39;USDC&#39;,
      ],
      currency: &#39;USD&#39;,
      callbackUrl: &#39;https://your-webhook-endpoint.com&#39;,
      description: &#39;Test Invoice Show&#39;,
      metadata: JSON.stringify({ orderId: &#39;sc696969&#39; }),
      fiatEnabled: fiatEnabled || false,
      guestOnly: guestOnly || false,
      allowPartial: false,
      premiumPct: 0.04,
      apiKey: &#39;test-api-key&#39;,
    });
  };
</code></pre></div>
<p>Render</p>
<div class="highlight"><pre><span></span><code>  &lt;button onClick={() =&gt; showSpankPay(false, false)}&gt;
        Button using the JS show method
    &lt;/button&gt;
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
</div>
<p>We strongly advise our merchants to allow "partial payments" on invoices by passing in the SDK option <code>allowPartial: true</code>. This means that any money paid on an invoice will be passed into your SpankPay account and a webhook will be sent - if you have multiple payment tiers, you will need to account for that in the endpoint that receives webhooks from SpankPay by checking the <code>amount_received</code> on the invoice at the time of webhook receipt.
For example, if you have multiple payment tiers like the following:
$0 - $10: 1 token per dollar
$10 - $100: 1.1 tokens per dollar
$100+: 1.2 tokens per dollar
A user might initiate an invoice for $500 but only send $5, you would need to implement appropriate logic for handling that on your end by checking the actual
amount of money the user sent instead of relying on the total amount invoiced.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
</div>
<p><strong>Want more control?</strong> SpankPay comes with a <a href="../api-reference/">complete JavaScript API</a> to give you full control of the payment process.</p>
<h4 id="4-implement-an-endpoint-for-webhook-callbacks"><strong>4. Implement an endpoint for webhook callbacks</strong></h4>
<p>Implement an endpoint to receive SpankPay callbacks for notifying your application of a successful payment</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
</div>
<p>This is covered in detail in <a href="../api-reference/#webhook-callbacks">Webhook Callbacks</a>.</p>
<h2 id="integrating-spankpay">Integrating SpankPay</h2>
<h3 id="1-include-the-spankpay-javascript_1">1. Include the SpankPay JavaScript</h3>
<p>The first step in integrating SpankPay into your website is including the SpankPay JavaScript.</p>
<p>This can be done directly with a <code>&lt;script&gt;</code> tag:</p>
<div class="highlight"><pre><span></span><code>&lt;script src=&quot;https://unpkg.com/@spankchain-dev/spankpay-sdk&quot;&gt;&lt;/script&gt;
</code></pre></div>
<p>Or via <code>npm</code>:</p>
<div class="highlight"><pre><span></span><code>$ npm install —save @spankchain-dev/spankpay-sdk
</code></pre></div>
<p>See <a href="../api-reference/">SpankPay APIs</a> for complete API documentation for the <code>spankpay.js</code> library.</p>
<h3 id="2-create-an-invoice">2. Create an Invoice</h3>
<p>In SpankPay, an <code>Invoice</code> is used to request payment from a user. Invoices can be created through a <a href="../api-reference/#creating-a-purchase-with-a-button">SpankPay Button</a>, either rendered in HTML or JS.</p>
<div class="highlight"><pre><span></span><code>&lt;button
    data-spankpay-key=&quot;test_quickstart_key&quot;
    data-amount=&quot;69.69&quot;
    data-currency=&quot;USD&quot;
    data-callback-url=&quot;https://yoursite.com/quickstart/callback&quot;
    data-on-payment=&quot;onSpankPayPayment&quot;&gt;
  Pay with SpankPay!
&lt;/button&gt;

&lt;script src=&quot;https://unpkg.com/@spankchain-dev/spankpay-sdk&quot;&gt;&lt;/script&gt;
</code></pre></div>
<p>Or via the <a href="../api-reference/#creating-an-invoice-with-the-spankpay-javascript-api"><code>spankpay.show(...)</code> method</a>:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="nx">spankpay</span> <span class="kr">from</span> <span class="s2">&quot;@spankchain-dev/spankpay-sdk&quot;</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">showSpankPay</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">fiatEnabled</span><span class="p">,</span> <span class="nx">guestOnly</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">spankpay</span><span class="p">.</span><span class="nx">show</span><span class="p">({</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s2">&quot;spank-user&quot;</span><span class="p">,</span>
    <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;message&quot;</span><span class="p">,</span>
    <span class="nx">amount</span><span class="o">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
    <span class="nx">redirectUrl</span><span class="o">:</span> <span class="s2">&quot;https://spankpay.com&quot;</span><span class="p">,</span>
    <span class="nx">acceptedCurrencies</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;BTC&quot;</span><span class="p">,</span> <span class="s2">&quot;ETH&quot;</span><span class="p">,</span> <span class="s2">&quot;USDC&quot;</span><span class="p">],</span>
    <span class="nx">currency</span><span class="o">:</span> <span class="s2">&quot;USD&quot;</span><span class="p">,</span>
    <span class="nx">callbackUrl</span><span class="o">:</span> <span class="s2">&quot;https://yoursite.com/quickstart/callback&quot;</span><span class="p">,</span>
    <span class="nx">description</span><span class="o">:</span> <span class="s2">&quot;Test Invoice Show&quot;</span><span class="p">,</span>
    <span class="nx">metadata</span><span class="o">:</span> <span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">orderId</span><span class="o">:</span> <span class="s2">&quot;sc696969&quot;</span> <span class="p">}),</span>
    <span class="nx">fiatEnabled</span><span class="o">:</span> <span class="nx">fiatEnabled</span> <span class="o">||</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">guestOnly</span><span class="o">:</span> <span class="nx">guestOnly</span> <span class="o">||</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">allowPartial</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">premiumPct</span><span class="o">:</span> <span class="mf">0.04</span><span class="p">,</span>
    <span class="nx">apiKey</span><span class="o">:</span> <span class="s2">&quot;test-api-key&quot;</span><span class="p">,</span>
    <span class="nx">onSpankPayPayment</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">payment</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Payment </span><span class="si">${</span><span class="nx">payment</span><span class="p">.</span><span class="nx">status</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="nx">payment</span><span class="p">);</span>
    <span class="p">},</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></div>
<p>Render</p>
<div class="highlight"><pre><span></span><code>  &lt;button onClick={() =&gt; showSpankPay(true, true)}&gt;
        Button using the JS show method
    &lt;/button&gt;
</code></pre></div>
<div class="highlight"><pre><span></span><code>The _Pay with SpankPay!_ button will take user to the SpankPay SDK (payment page.) Once the invoice has been paid, Spankpay will send a callback to the callback URL provided (in this example- &quot;https://yoursite.com/quickstart/callback&quot;) and will run the function you’ve built (in this example- yourCallbackFunctionHere()) to work with that data, for example, give the payer their site tokens 

And For a complete description of each of these methods, including their options, see the [Invoice API](api-reference.md#invoice).

### 3. Implement a Webhook Callback URL

When SpankPay receives confirmation of a user&#39;s payment, it will call the [`callback` webhook](api-reference.md#webhook-callbacks) URL with a `Payment` to notify your application that the payment was completed successfully.

```json
POST /quickstart/callback
Content-Type: text/plain
X-SpankPay-Key: test_quickstart_key
X-SpankPay-Signature: t=1551389518&amp;s=b613679a0814d9ec…

{
    &quot;type&quot;: &quot;payment&quot;,
    &quot;paymentId&quot;: &quot;pay_c493715653c&quot;,
    &quot;createdOn&quot;: &quot;1969-06-09T06:09:06.969Z&quot;,
    &quot;invoiceId&quot;: &quot;inv_f95d778c35f&quot;,
    &quot;invoice&quot;: { ... },
    &quot;amount&quot;: &quot;69.69&quot;,
    &quot;amountCurrency&quot;: &quot;USD&quot;,
    &quot;inputAmount&quot;: &quot;0.6969&quot;,
    &quot;inputCurrency&quot;: &quot;ETH&quot;,
    &quot;inputTx&quot;: &quot;0x2144292c5ad…&quot;,
    &quot;receipt&quot;: {
        &quot;type&quot;: &quot;webhook&quot;,
        &quot;url&quot;: &quot;https://yoursite.com/yourserver/callback&quot;,
        &quot;status&quot;: &quot;called&quot;,
        &quot;calledOn&quot;: &quot;1969-06-09T06:09:06.969Z&quot;,
        &quot;responseStatusCode&quot;: 200,
        &quot;response&quot;: ...,
        ...
    }
    ...
}
</code></pre></div>
<p>For more, see:</p>
<ul>
<li><a href="../api-reference/#webhook-callbacks">Implementing Webhooks</a></li>
<li><a href="../api-reference/#payment">The Payment object</a></li>
</ul>
<h3 id="4-testing-your-integration"><strong>4. Testing Your Integration</strong></h3>
<h4 id="testing-api-keys"><strong>Testing API Keys</strong></h4>
<p>Turn on Test Currencies via the toggle in your account's Developer section. Now the username associated with this account will allow for a “Pay With Test” button to be displayed in the SDK.</p>
<p>We recommend using the testing key in your development and staging environments.</p>
<p>At this moment, test payments in the SDK will not create a payment object, and therefore won’t trigger a webhook to your callback URL. Feature update coming soon.</p>
<p>We recommend using the testing key in your development and staging environments.</p>
<h4 id="testing-webhooks">Testing Webhooks</h4>
<p>For more details on effectively testing webhooks during development, see: <a href="../api-reference/#testing-webhooks">Testing Webhooks</a>.</p>
<h4 id="_1"></h4>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../api-reference/" class="md-footer__link md-footer__link--prev" aria-label="Previous: API Reference" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              API Reference
            </div>
          </div>
        </a>
      
      
        
        <a href="../v2-api-reference/" class="md-footer__link md-footer__link--next" aria-label="Next: API Reference" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              API Reference
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c44cc438.min.js"></script>
      
    
  </body>
</html>